(()=>{"use strict";const t=document.getElementById("curr-weather");async function e(e){const n=await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${e}&count=1&language=it&format=json`),o=await n.json();!async function(t){const e=document.getElementById("location-name"),n=document.getElementById("location-country");e.textContent=t.results[0].name,n.textContent=t.results[0].country}(o),async function(e){const n=e.results[0].latitude,o=e.results[0].longitude;await async function(e,n){const o=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${e}0&longitude=${n}&hourly=temperature_2m,relativehumidity_2m,apparent_temperature,precipitation_probability,precipitation,rain,showers,snowfall,snow_depth,visibility,windspeed_10m,windspeed_80m,winddirection_10m&current_weather=true&start_date=2023-04-16&end_date=2023-04-22`),c=await o.json();return console.log(c),async function(e){const n=document.getElementById("curr-temp");n.textContent="";const o=document.createElement("h2"),c=document.createElement("img");c.src="icons/thermostat.png",o.textContent=e.current_weather.temperature,n.appendChild(c),n.appendChild(o),t.appendChild(n)}(c),async function(e){const n=document.getElementById("curr-time");n.textContent="";const o=document.createElement("img"),c=document.createElement("h2");o.src="icons/calendar.png",c.textContent=function(t){const e=t.split("-")[2],n=t.split("-")[1],o=t.split("-")[0];return`${e[0]}${e[1]}/${n}/${o}`}(e.current_weather.time),n.appendChild(o),n.appendChild(c),t.appendChild(n)}(c),c}(n,o)}(o)}const n=document.getElementById("location"),o=document.getElementById("search");n.addEventListener("keypress",(t=>{"Enter"==t.key&&e(n.value)})),o.addEventListener("click",(()=>{e(n.value)}))})();